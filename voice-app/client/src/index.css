/* Theme variables */
:root {
  --bg: #F7F9FC;
  --text: #333333;
  --surface: #FFFFFF;
  --border: #E6E9EF;
  --primary: #6AA6F8; /* softer primary */
  --primary-hover: #4F8BE3;
  --calendar-day-log: #F3F6FD; /* pastel blue */
  --calendar-day-keyword: #F2FAF6; /* pastel mint */
  --calendar-day-search: #FFF6EC; /* pastel peach */
  --calendar-hover: #F1F6FF; /* softer hover pastel */
  --calendar-active: #EAF2FF; /* selected day pastel */
  --calendar-active-border: #D6E6FF;
  --calendar-today: #FFF4E8; /* subtle today tint */
  --calendar-today-border: #FFE1C2;
  --keyword-tag-bg: #FFFFFF;
  --keyword-tag-border: #E6E9EF;
  --keyword-tag-text: #555555;
  --secondary-bg: #E9ECEF;
  --secondary-bg-hover: #DEE2E6;
  --secondary-text: #333333;
  --calendar-log-low: #E4EDFF;
  --calendar-log-mid: #CADBFF;
  --calendar-log-high: #A5C4FF;
}

[data-theme='dark'] {
  --bg: #121417;
  --text: #E4E7EB;
  --surface: #1A1E23;
  --border: #2A3036;
  --primary: #6AA6F8;
  --primary-hover: #4F8BE3;
  --calendar-day-log: #17202A;
  --calendar-day-keyword: #14241B;
  --calendar-day-search: #2D2319;
  --calendar-hover: #1C2530; /* softer hover */
  --calendar-active: #1E2A3A;
  --calendar-active-border: #2A3A4E;
  --calendar-today: #2A2220;
  --calendar-today-border: #3A2E28;
  --keyword-tag-bg: #1F242A;
  --keyword-tag-border: #2A3036;
  --keyword-tag-text: #C8D1DB;
  --secondary-bg: #222830;
  --secondary-bg-hover: #2A313A;
  --secondary-text: #E4E7EB;
}

/* Mono theme (grayscale) */
[data-theme='mono'] {
  --bg: #F6F6F6;
  --text: #222222;
  --surface: #FFFFFF;
  --border: #E1E1E1;
  --primary: #9AA4AE; /* neutral */
  --primary-hover: #7F8A95;
  --calendar-day-log: #F2F2F2;
  --calendar-day-keyword: #EFEFEF;
  --calendar-day-search: #F7F7F7;
  --calendar-hover: #ECECEC;
  --calendar-active: #EAEAEA;
  --calendar-active-border: #D9D9D9;
  --calendar-today: #F5F5F5;
  --calendar-today-border: #E4E4E4;
  --keyword-tag-bg: #FFFFFF;
  --keyword-tag-border: #E1E1E1;
  --keyword-tag-text: #444444;
  --secondary-bg: #E9ECEF;
  --secondary-bg-hover: #DEE2E6;
  --secondary-text: #222222;
}

/* High-contrast theme */
[data-theme='contrast'] {
  --bg: #0A0A0A;
  --text: #FFFFFF;
  --surface: #141414;
  --border: #2A2A2A;
  --primary: #FFD166; /* warm */
  --primary-hover: #E6BC59;
  --calendar-day-log: #1A1A1A;
  --calendar-day-keyword: #1D1A14;
  --calendar-day-search: #1E1710;
  --calendar-hover: #232323;
  --calendar-active: #1F2430;
  --calendar-active-border: #2E3A50;
  --calendar-today: #2A2018;
  --calendar-today-border: #3A2C1F;
  --keyword-tag-bg: #1C1C1C;
  --keyword-tag-border: #2A2A2A;
  --keyword-tag-text: #EDEDED;
  --secondary-bg: #2B2B2B;
  --secondary-bg-hover: #353535;
  --secondary-text: #FFFFFF;
}

[data-theme='spring'] {
  --bg: #F7FFF3;
  --text: #2A3D27;
  --surface: #FFFFFF;
  --border: #D8F1D0;
  --primary: #89D86F;
  --primary-hover: #6EC356;
  --calendar-day-log: #E7F9D9;
  --calendar-day-keyword: #D9F6C7;
  --calendar-day-search: #F1FCEB;
  --calendar-hover: #DBF6C9;
  --calendar-active: #C8EEB5;
  --calendar-active-border: #AEE496;
  --calendar-today: #E4F7D3;
  --calendar-today-border: #BDE59F;
  --keyword-tag-bg: #FFFFFF;
  --keyword-tag-border: #CDECC2;
  --keyword-tag-text: #2F4A26;
  --secondary-bg: #E0F6CF;
  --secondary-bg-hover: #C9EDB2;
  --secondary-text: #2A3D27;
  --calendar-log-low: #E7F8E4;
  --calendar-log-mid: #CFF0CB;
  --calendar-log-high: #B4E3AF;
}

[data-theme='summer'] {
  --bg: #F2FBFF;
  --text: #1F3E4F;
  --surface: #FFFFFF;
  --border: #D4E9F2;
  --primary: #4DC7E8;
  --primary-hover: #36AFD1;
  --calendar-day-log: #DFF4FB;
  --calendar-day-keyword: #C9F2EA;
  --calendar-day-search: #F2F9FF;
  --calendar-hover: #DAF0FF;
  --calendar-active: #C8E7FF;
  --calendar-active-border: #A8D8F6;
  --calendar-today: #E6F5FF;
  --calendar-today-border: #BBDCF7;
  --keyword-tag-bg: #FFFFFF;
  --keyword-tag-border: #CFE6F1;
  --keyword-tag-text: #24536A;
  --secondary-bg: #D4F2FF;
  --secondary-bg-hover: #BFE8FC;
  --secondary-text: #1F3E4F;
  --calendar-log-low: #E0F7FF;
  --calendar-log-mid: #C4EEFF;
  --calendar-log-high: #99E0FE;
}

[data-theme='autumn'] {
  --bg: #FFF6EB;
  --text: #3E2A1C;
  --surface: #FFFFFF;
  --border: #F0D7C2;
  --primary: #E8893C;
  --primary-hover: #D77222;
  --calendar-day-log: #FFE6CC;
  --calendar-day-keyword: #F8D9BA;
  --calendar-day-search: #FFEFE0;
  --calendar-hover: #FDD9B8;
  --calendar-active: #F9CBA2;
  --calendar-active-border: #F0B580;
  --calendar-today: #FFE2C4;
  --calendar-today-border: #F4BE8A;
  --keyword-tag-bg: #FFFFFF;
  --keyword-tag-border: #E8C7A8;
  --keyword-tag-text: #4A2F1C;
  --secondary-bg: #F4D3B5;
  --secondary-bg-hover: #ECB888;
  --secondary-text: #3E2A1C;
  --calendar-log-low: #FFE6D1;
  --calendar-log-mid: #FFD4AC;
  --calendar-log-high: #FFBC7A;
}

[data-theme='winter'] {
  --bg: #FFFFFF; /* keep background neutral */
  --text: #2E3A32;
  --surface: #FFFFFF;
  --border: #DCE6F1;
  --primary: #FF6B6B; /* warm red accent */
  --primary-hover: #E05656;
  --calendar-day-log: #F4FAFF;
  --calendar-day-keyword: #EAF4FF;
  --calendar-day-search: #FFF7F7;
  --calendar-hover: #E7F1FF;
  --calendar-active: #DFE9FF;
  --calendar-active-border: #C9D8F2;
  --calendar-today: #FAFDFE;
  --calendar-today-border: #DCE7F5;
  --keyword-tag-bg: #FFFFFF;
  --keyword-tag-border: #D7E5ED;
  --keyword-tag-text: #2F4037;
  --secondary-bg: #D3E9DA; /* soft evergreen highlight */
  --secondary-bg-hover: #BDDCC6;
  --secondary-text: #2E3A32;
  --calendar-log-low: #F2FAF5; /* soft pine tint */
  --calendar-log-mid: #FFEDEA; /* warm candle glow */
  --calendar-log-high: #FFD4CF; /* holly red highlight */
}

/* Serene Dusk Theme */

body {
  background-color: var(--bg);
  font-family: '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif';
  color: var(--text);
}

/* Main content container */
.container {
  background-color: var(--surface);
  border-radius: 16px !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1) !important;
  padding: 30px !important;
}

/* General styling for rounded corners and shadows */
.card, .list-group-item, .form-control, .btn, .react-calendar {
  border-radius: 12px !important;
  box-shadow: none !important; /* Remove individual shadows for a cleaner look */
  border: 1px solid var(--border) !important; /* Subtle borders */
}

.form-control:focus {
  border-color: var(--primary) !important; /* Focus */
  box-shadow: 0 0 0 0.25rem rgba(74, 144, 226, 0.25) !important;
}

/* --- Button Palette --- */
.btn-primary {
  background-color: var(--primary) !important;
  border-color: var(--primary) !important;
  color: #FFFFFF !important;
}

.btn-primary:hover {
  background-color: var(--primary-hover) !important;
  border-color: var(--primary-hover) !important;
}

.btn-secondary, .btn-outline-secondary {
  background-color: var(--primary) !important;
  border-color: var(--primary) !important;
  color: #fff !important;
}

.btn-secondary:hover, .btn-outline-secondary:hover {
  background-color: var(--primary-hover) !important;
  border-color: var(--primary-hover) !important;
}

/* Keep modal cancel neutral */
.modal-footer .btn-secondary {
  background-color: var(--secondary-bg) !important;
  border-color: var(--secondary-bg) !important;
  color: var(--secondary-text) !important;
}
.modal-footer .btn-secondary:hover {
  background-color: var(--secondary-bg-hover) !important;
  border-color: var(--secondary-bg-hover) !important;
}

/* Navbar button styles */
.nav-cta {
  background: var(--primary) !important;
  color: #fff !important;
  border: none !important;
  border-radius: 9999px !important;
  padding: 6px 14px !important;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15) !important;
}
.nav-cta:hover { background: var(--primary-hover) !important; }

.nav-ghost {
  background: transparent !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: 9999px !important;
  padding: 6px 12px !important;
}
.nav-ghost:hover { background: var(--calendar-hover) !important; }

/* Unified button styles (aliases) */
.btn-accent { @apply --btn-accent; }
.btn-ghost  { @apply --btn-ghost; }

/* Fallback without @apply: duplicate rules for cross-compat */
.btn-accent {
  background: var(--primary) !important;
  color: #fff !important;
  border: none !important;
  border-radius: 9999px !important;
  padding: 6px 14px !important;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15) !important;
}
.btn-accent:hover { background: var(--primary-hover) !important; }

.btn-ghost {
  background: transparent !important;
  color: var(--text) !important;
  border: 1px solid var(--border) !important;
  border-radius: 9999px !important;
  padding: 6px 12px !important;
}
.btn-ghost:hover { background: var(--calendar-hover) !important; }

.btn-danger {
    background-color: #D0021B !important;
    border-color: #D0021B !important;
}

/* --- Calendar Styles --- */
.voice-calendar {
  width: 100% !important;
  border: 1px solid var(--border) !important;
  background: var(--surface) !important;
  color: var(--text) !important;
}

.react-calendar__tile {
  height: 100px; /* back to compact without + button */
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  padding: 6px;
  border-radius: 8px !important;
  position: relative;
  background: transparent;
}

/* Default day with logs */
.react-calendar__tile.has-log {
  background: transparent !important;
  border: none !important;
}

/* Day with a registered keyword */
.react-calendar__tile.has-registered-keyword {
  background: transparent !important;
  border: none !important;
}

/* Day with the searched keyword (priority) */
.react-calendar__tile.has-search-keyword {
  background: transparent !important;
  border: none !important;
}

.react-calendar__tile.has-log {
  background: var(--calendar-log-low) !important;
  border-radius: 10px;
  position: relative;
  overflow: hidden;
}

.react-calendar__tile.has-log.log-level-low {
  background: var(--calendar-log-low) !important;
}

.react-calendar__tile.has-log.log-level-mid {
  background: var(--calendar-log-mid) !important;
}

.react-calendar__tile.has-log.log-level-high {
  background: var(--calendar-log-high) !important;
}

.react-calendar__tile.has-log.has-search-keyword {
  box-shadow: inset 0 0 0 2px rgba(106, 166, 248, 0.32);
}

/* Active (selected) day */
.react-calendar__tile--active {
  background: transparent !important;
  border: 2px solid var(--primary) !important;
  color: inherit !important;
}

/* Hover/Focus (non-selected) */
.react-calendar__tile:enabled:hover,
.react-calendar__tile:enabled:focus {
  background: var(--calendar-hover) !important;
}

/* Today indicator */
.react-calendar__tile--now {
  background: transparent !important;
  border: 1px solid var(--calendar-today-border) !important;
}

/* Keyword tags inside calendar days */
.log-keywords {
  font-size: 0.7em;
  text-align: left;
  width: 100%;
  margin-top: 2px;
  margin-bottom: 2px;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 4px;
  max-height: 64px;
  overflow: hidden;
}

.keyword-tag {
  display: inline-flex;
  align-items: center;
  padding: 0 0 0 6px;
  border-left: 4px solid var(--primary);
  background: transparent;
  color: var(--keyword-tag-text);
  font-weight: 600;
  font-size: 0.75rem;
  line-height: 1.1;
  white-space: nowrap;
  overflow: visible;
}

/* Add button on calendar tiles */
.tile-content-wrap { width: 100%; height: 100%; }

/* Smaller tiles on narrow screens but preserve bottom padding */
@media (max-width: 575px) {
  .react-calendar__tile {
    height: 96px;
    padding: 6px;
  }
  .log-keywords {
    font-size: 0.65em;
    max-height: 56px;
  }
}

/* Dark theme fixes for Bootstrap utilities */
[data-theme='dark'] .bg-light {
  background-color: var(--surface) !important;
  color: var(--text) !important;
  border-color: var(--border) !important;
}

/* Themed surfaces */
.list-group-item { background-color: var(--surface) !important; color: var(--text) !important; }
.modal-content { background-color: var(--surface) !important; color: var(--text) !important; }
.form-control { background-color: var(--surface) !important; color: var(--text) !important; }

/* Hide the legacy inline "Add voice log" button (kept for compatibility) */
.d-flex.justify-content-between.align-items-center.mb-3 .btn.btn-secondary {
  display: none !important;
}

/* Floating Action Button */
.fab {
  position: fixed;
  right: 20px;
  bottom: 24px;
  z-index: 1000;
  width: 56px;
  height: 56px;
  border-radius: 28px;
  border: none;
  background: var(--primary);
  color: transparent;
  font-size: 28px;
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 6px 16px rgba(0,0,0,0.25);
  text-decoration: none;
}
.fab:focus, .fab:active, .fab:hover, .fab:visited { text-decoration: none; }
.fab::after {
  content: "+";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #fff;
  font-size: 28px;
  font-weight: 600;
  line-height: 1;
}
.fab:hover { background: var(--primary-hover); }

/* Swipe actions on list items */
.swipe-container { position: relative; overflow: hidden; }
.swipe-content { transition: transform 0.2s ease; }
.swipe-actions {
  position: absolute;
  top: 0; right: 0; bottom: 0;
  display: flex; align-items: stretch;
  gap: 4px; padding: 8px;
}
.swipe-actions .btn { height: 100%; align-self: stretch; }

.header-logo {
  height: 55px;
  width: auto;
  max-height: 55px;
}

@media (max-width: 575px) {
  .header-logo {
    height: 55px;
  }
}

.header-navbar {
  padding-top: calc(env(safe-area-inset-top, 0) + 8px);
}

.app-main {
  padding-top: calc(55px + env(safe-area-inset-top, 0) - 25px);
  padding-bottom: env(safe-area-inset-bottom, 24px);
}

.react-calendar__tile abbr {
  display: block;
  font-size: 0.8rem;
  font-weight: 600;
  line-height: 1.2;
  color: inherit;
}

.react-calendar__tile--active abbr {
  font-size: 0.8rem;
  font-weight: 600;
  color: inherit;
}










.header-stats {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  color: var(--text);
  flex-wrap: nowrap;
}

.header-stats-inline {
  flex: 1 1 auto;
  justify-content: center;
  min-width: 0;
}

.header-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  min-width: 48px;
}

.header-stat-value {
  font-weight: 700;
  font-size: 0.95rem;
  line-height: 1.1;
}

.header-stat-label {
  font-size: 0.7rem;
  letter-spacing: -0.01em;
}

@media (max-width: 767.98px) {
  .header-stats-inline {
    justify-content: flex-start;
    gap: 0.5rem;
  }
  .header-stat {
    min-width: 44px;
  }
  .header-stat-value {
    font-size: 0.88rem;
  }
}

@media (min-width: 992px) {
  .header-stats {
    gap: 1.25rem;
  }
  .header-stats-inline {
    justify-content: center;
  }
  .header-stat {
    min-width: 60px;
  }
  .header-stat-value {
    font-size: 1.05rem;
  }
  .header-stat-label {
    font-size: 0.75rem;
  }
}
.saved-keyword-row {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.saved-keyword-controls {
  display: flex;
  gap: 6px;
  align-items: center;
  flex-wrap: wrap;
}

.saved-keyword-input {
  flex: 1 1 180px;
  min-width: 140px;
  max-width: 220px;
}

.saved-keyword-tags {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
}

@media (max-width: 575.98px) {
  .saved-keyword-controls {
    flex-wrap: wrap;
    gap: 4px;
  }
  .saved-keyword-input {
    flex: 1 1 150px;
    max-width: 100%;
  }
}
@media (max-width: 991.98px) {
  .header-navbar .navbar-collapse {
    width: 100%;
  }
  .header-navbar .navbar-collapse:not(.show) {
    display: none !important;
  }
  .header-navbar .navbar-collapse.show {
    display: flex !important;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .header-navbar .navbar-collapse.show .navbar-nav {
    width: 100%;
    gap: 0.85rem;
    flex-direction: column;
    align-items: center !important;
    justify-content: center !important;
  }
  .header-navbar .navbar-collapse.show .navbar-nav .nav-link {
    width: 100%;
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
  }
}
